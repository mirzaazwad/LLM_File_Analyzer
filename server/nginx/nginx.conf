server {
    listen 10000;

    location /api/generate {
        proxy_pass http://ollama;
        add_header 'Access-Control-Allow-Origin' 'https://llm-file-analyzer-qwtk.vercel.app';
        add_header 'Access-Control-Allow-Methods' '*';
        add_header 'Access-Control-Allow-Headers' '*';
        add_header 'Access-Control-Max-Age' 36000000;
        if ($request_method = 'OPTIONS') {
            add_header 'Access-Control-Allow-Origin' 'https://llm-file-analyzer-qwtk.vercel.app';
            add_header 'Access-Control-Allow-Methods' '*';
            add_header 'Access-Control-Allow-Headers' '*';
            add_header 'Access-Control-Max-Age' 36000000;
            return 204;
        }
    }

    location / {
            root   html;
            index  index.html;
        }
}

